2024-02-24 14:36:11,710 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-24 14:38:23,122 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-24 14:40:37,484 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-24 14:41:35,650 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-24 14:48:20,994 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-24 15:00:26,511 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-24 23:53:18,098 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-24 23:55:09,944 - app.log - ERROR - [APP] answer_major went wrong!
Traceback (most recent call last):
  File "/home/h4438/Desktop/graduate/WebQA/core/app.py", line 83, in answer_major
    rag_resp = bot.answer(escape(question))
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langsmith/run_helpers.py", line 453, in wrapper
    raise e
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langsmith/run_helpers.py", line 449, in wrapper
    function_result = func(*args, **kwargs)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/robot.py", line 129, in answer
    self.__update_followup(doc=resp.document)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/robot.py", line 100, in __update_followup
    self.followup.set_doc(document=doc, reset_memory=True)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/chain/local_followup.py", line 46, in set_doc
    self.chain = self.__build_chain(reset_memory=reset_memory)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/chain/local_followup.py", line 51, in __build_chain
    ("system", TEMPLATE.format(doc = self.doc.content)),
AttributeError: 'str' object has no attribute 'content'
2024-02-24 23:56:43,994 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-25 20:01:46,759 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-25 21:02:02,245 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-25 21:06:00,380 - app.log - ERROR - [APP] answer_major went wrong!
Traceback (most recent call last):
  File "/home/h4438/Desktop/graduate/WebQA/core/app.py", line 83, in answer_major
    rag_resp = bot.answer(question.strip())
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langsmith/run_helpers.py", line 453, in wrapper
    raise e
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langsmith/run_helpers.py", line 449, in wrapper
    function_result = func(*args, **kwargs)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/robot.py", line 138, in answer
    self.__update_followup(doc=resp.document)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/robot.py", line 109, in __update_followup
    self.followup.set_doc(document=doc, reset_memory=True)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/chain/local_followup.py", line 49, in set_doc
    self.chain = self.__build_chain(reset_memory=reset_memory)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/chain/local_followup.py", line 54, in __build_chain
    self.prompt = ChatPromptTemplate.from_messages([
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/prompts/chat.py", line 748, in from_messages
    _messages = [_convert_to_message(message) for message in messages]
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/prompts/chat.py", line 748, in <listcomp>
    _messages = [_convert_to_message(message) for message in messages]
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/prompts/chat.py", line 952, in _convert_to_message
    _message = _create_template_from_message_type(message_type_str, template)
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/prompts/chat.py", line 911, in _create_template_from_message_type
    message = SystemMessagePromptTemplate.from_template(cast(str, template))
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/prompts/chat.py", line 336, in from_template
    prompt: Union[StringPromptTemplate, List] = PromptTemplate.from_template(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/prompts/prompt.py", line 247, in from_template
    input_variables = get_template_variables(template, template_format)
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/prompts/string.py", line 145, in get_template_variables
    input_variables = {
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/prompts/string.py", line 145, in <setcomp>
    input_variables = {
ValueError: unexpected '{' in field name
2024-02-25 21:15:56,342 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-27 08:59:48,151 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-28 00:16:33,253 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-28 00:38:04,070 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-28 00:39:39,573 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-28 00:40:27,705 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-28 06:20:38,210 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 00:25:08,680 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 00:31:34,240 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 00:38:27,570 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 00:54:21,063 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 01:03:31,817 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 01:20:00,227 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 01:20:08,047 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 01:21:36,407 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 06:31:33,055 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-02-29 19:12:22,295 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-03-02 05:42:44,714 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-03-02 06:15:56,435 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-03-02 10:09:52,220 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-03-02 10:59:07,276 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-03-07 03:52:16,974 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-03-07 03:54:43,832 - app.log - ERROR - [APP] answer_major went wrong!
Traceback (most recent call last):
  File "/home/h4438/Desktop/graduate/WebQA/core/app.py", line 94, in answer_major
    rag_resp = bot.answer(question.strip())
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langsmith/run_helpers.py", line 453, in wrapper
    raise e
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langsmith/run_helpers.py", line 449, in wrapper
    function_result = func(*args, **kwargs)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/robot.py", line 159, in answer
    resp = self.main_chain.invoke({"question": question})
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/runnables/base.py", line 2053, in invoke
    input = step.invoke(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/runnables/branch.py", line 201, in invoke
    output = runnable.invoke(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/runnables/base.py", line 2053, in invoke
    input = step.invoke(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 166, in invoke
    self.generate_prompt(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 544, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 408, in generate
    raise e
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 398, in generate
    self._generate_with_cache(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 577, in _generate_with_cache
    return self._generate(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_community/chat_models/openai.py", line 439, in _generate
    response = self.completion_with_retry(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_community/chat_models/openai.py", line 356, in completion_with_retry
    return self.client.create(**kwargs)
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/openai/_utils/_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
TypeError: create() got an unexpected keyword argument 'convert_system_message_to_human'
2024-03-07 03:56:35,406 - app.log - ERROR - [APP] answer_major went wrong!
Traceback (most recent call last):
  File "/home/h4438/Desktop/graduate/WebQA/core/app.py", line 94, in answer_major
    rag_resp = bot.answer(question.strip())
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langsmith/run_helpers.py", line 453, in wrapper
    raise e
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langsmith/run_helpers.py", line 449, in wrapper
    function_result = func(*args, **kwargs)
  File "/home/h4438/Desktop/graduate/WebQA/core/src/robot.py", line 159, in answer
    resp = self.main_chain.invoke({"question": question})
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/runnables/base.py", line 2053, in invoke
    input = step.invoke(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/runnables/branch.py", line 201, in invoke
    output = runnable.invoke(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/runnables/base.py", line 2053, in invoke
    input = step.invoke(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 166, in invoke
    self.generate_prompt(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 544, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 408, in generate
    raise e
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 398, in generate
    self._generate_with_cache(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_core/language_models/chat_models.py", line 577, in _generate_with_cache
    return self._generate(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_community/chat_models/openai.py", line 439, in _generate
    response = self.completion_with_retry(
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/langchain_community/chat_models/openai.py", line 356, in completion_with_retry
    return self.client.create(**kwargs)
  File "/home/h4438/miniconda3/envs/uni/lib/python3.9/site-packages/openai/_utils/_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
TypeError: create() got an unexpected keyword argument 'convert_system_message_to_human'
2024-03-07 04:02:18,839 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-03-07 04:10:59,248 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-03-07 04:27:42,570 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
2024-03-15 00:10:47,799 - app.log - ERROR - ERROR: cannot make dir /home/h4438/Desktop/graduate/WebQA/core/instance
